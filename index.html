<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö POS ‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏≤‡∏£</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>üåæ ‡∏£‡∏∞‡∏ö‡∏ö POS ‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏≤‡∏£</h1>
            <div class="mode-toggle">
                <button class="mode-btn active" id="userMode">‡πÇ‡∏´‡∏°‡∏î‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</button>
                <button class="mode-btn" id="adminMode">‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</button>
                <div class="status" id="statusText">‡πÇ‡∏´‡∏°‡∏î‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</div>
            </div>
        </div>

        <!-- Notification Bell -->
        <div class="notification-bell" id="notificationBell">
            <span class="bell-icon">üîî</span>
            <span class="notification-count" id="notificationCount">0</span>
        </div>

        <div class="tabs">
            <button class="tab active" data-tab="sales">üõí ‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
            <button class="tab" data-tab="stock">üì¶ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Stock</button>
            <button class="tab" data-tab="history">üìã ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</button>
            <button class="tab admin-only" data-tab="products">‚öôÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
            <button class="tab" data-tab="reports">üìä ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢</button>
        </div>

        <!-- Sales Tab -->
        <div class="tab-content active" id="sales">
            <div class="search-filters">
                <div class="filter-group">
                    <label>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                    <input type="text" class="filter-input" id="searchProduct" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠...">
                </div>
                <div class="filter-group">
                    <label>‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠</label>
                    <select class="filter-input" id="brandFilter">
                        <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                        <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏ï‡∏¥‡∏°‡πÇ‡∏î‡∏¢ JS -->
                    </select>
                </div>
            </div>

            <div class="products-grid" id="productsGrid">
                <!-- Products will be populated by JavaScript -->
            </div>

            <div class="cart-section">
                <div class="cart-header">
                    <h2>üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
                    <span class="stock-badge" id="cartCount">0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                </div>

                <div class="cart-items" id="cartItems">
                    <div class="empty-state">
                        <h3>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤</h3>
                        <p>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏•‡∏á‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</p>
                    </div>
                </div>

                <div class="cart-total">
                    <h3>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</h3>
                    <h3 id="totalAmount">0.00 ‡∏ö‡∏≤‡∏ó</h3>
                </div>

                <button class="checkout-btn" id="checkoutBtn" disabled>üí≥ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
            </div>
        </div>

        <!-- Stock Tab -->
        <div class="tab-content" id="stock">
            <h2>üì¶ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Stock</h2>
            <div class="products-grid" id="stockGrid">
                <!-- Stock items will be populated by JavaScript -->
            </div>
        </div>

        <!-- History Tab -->
        <div class="tab-content" id="history">
            <h2>üìã ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</h2>
            <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 20px; flex-wrap: wrap;">
                <label>‡∏à‡∏≤‡∏Å</label>
                <input type="date" id="historyStartDate">
                <label>‡∏ñ‡∏∂‡∏á</label>
                <input type="date" id="historyEndDate">
                <button class="btn btn-primary" id="printHistoryBtn">üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå PDF</button>
                <button class="btn btn-secondary" id="addSampleSalesBtn">üì¶ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
                <button class="btn btn-danger admin-only" id="clearSalesHistoryBtn">üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</button>
            </div>
            <div id="historyListPrintArea">
                <div id="historyList">
                    <!-- History items will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Products Tab (Admin Only) -->
        <div class="tab-content admin-only" id="products">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2>‚öôÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-secondary" id="addSampleDataBtn">üì¶ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
                    <button class="btn btn-primary" id="addProductBtn">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà</button>
                </div>
            </div>
            <div class="products-grid" id="productsManageGrid">
                <!-- Products management will be populated by JavaScript -->
            </div>
        </div>

        <!-- Reports Tab -->
        <div class="tab-content" id="reports">
            <h2>üìä ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢</h2>
            <div class="reports-graph-section">
                <h3>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏±‡∏ß (Top 10) ‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</h3>
                <select id="topProductMonth" style="margin-bottom:10px;"></select>
                <canvas id="topProductChart" height="120"></canvas>
                <h3 style="margin-top:32px;">‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</h3>
                <select id="monthlySalesYear" style="margin-bottom:10px;"></select>
                <canvas id="monthlySalesChart" height="120"></canvas>
            </div>
            <div class="reports-grid" id="reportsGrid">
                <!-- Reports will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div class="modal" id="adminLoginModal">
        <div class="modal-content">
            <h2>üîê ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</h2>
            <div class="form-group">
                <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                <input type="password" id="adminPassword" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
            </div>
            <div class="form-actions">
                <button class="btn btn-secondary" id="cancelLogin">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button class="btn btn-primary" id="confirmLogin">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <h2 id="productModalTitle">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà</h2>
            <div class="form-group">
                <label>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                <input type="text" id="productName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤">
            </div>
            <div class="form-group">
                <label>‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠</label>
                <input type="text" id="productBrand" placeholder="‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠">
            </div>
            <div class="form-group">
                <label>‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó)</label>
                <input type="number" id="productPrice" placeholder="0.00" min="0" step="0.01">
            </div>
            <div class="form-group">
                <label>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                <input type="file" id="productImage" accept="image/*">
                <img id="imagePreview"
                    style="display: none; max-width: 200px; max-height: 200px; margin-top: 10px; border-radius: 10px;">
                <button type="button" id="removeImageBtn" onclick="removeImage()"
                    style="display: none; margin-top: 5px;" class="btn btn-secondary">‡∏•‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</button>
            </div>
            <div class="form-actions">
                <button class="btn btn-secondary" id="cancelProduct">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button class="btn btn-primary" id="saveProduct">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal" id="checkoutModal">
        <div class="modal-content">
            <h2>üí≥ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h2>
            <div class="form-group">
                <label>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</label>
                <input type="text" id="checkoutTotal" readonly>
            </div>
            <div class="form-group">
                <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö</label>
                <input type="number" id="receivedAmount" placeholder="0.00" min="0" step="0.01">
            </div>
            <div class="form-group">
                <label>‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô</label>
                <input type="text" id="changeAmount" readonly>
            </div>
            <div class="form-actions">
                <button class="btn btn-secondary" id="cancelCheckout">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button class="btn btn-primary" id="confirmCheckout">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
            </div>
        </div>
    </div>

    <!-- Stock Modal -->
    <div class="modal" id="stockModal">
        <div class="modal-content">
            <h2 id="stockModalTitle">‡πÄ‡∏û‡∏¥‡πà‡∏° Stock</h2>
            <div class="form-group">
                <label>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤: <span id="stockProductName" style="font-weight: bold; color: #43a047;"></span></label>
            </div>
            <div class="form-group">
                <label>Stock ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <span id="stockCurrentAmount" style="font-weight: bold; color: #333;"></span>
                    ‡∏ñ‡∏∏‡∏á</label>
            </div>
            <div class="form-group">
                <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ <span id="stockActionText">‡πÄ‡∏û‡∏¥‡πà‡∏°</span></label>
                <input type="number" id="stockAmount" placeholder="0" min="1" step="1">
            </div>
            <div class="form-actions">
                <button class="btn btn-secondary" id="cancelStock">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button class="btn btn-primary" id="confirmStock">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
            </div>
        </div>
    </div>

    <!-- Notification History Modal -->
    <div class="modal" id="notificationHistoryModal">
        <div class="modal-content notification-history-content">
            <div class="notification-history-header">
                <h2>üìã ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</h2>
                <button class="btn btn-danger" id="clearNotifications">üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
            </div>
            <div class="notification-history-list" id="notificationHistoryList">
                <!-- Notification history will be populated here -->
            </div>
        </div>
    </div>

    <!-- Firebase & Firestore Integration -->
    <script type="module" src="app.js"></script>
</body>

</html> 